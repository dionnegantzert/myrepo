---
title: "Star Wars Composers Analysis"
author: "Dionne Gantzert"
date: "2/15/2021"
output:
  flexdashboard::flex_dashboard:
    storyboard: true
    theme: flatly
---
<style>
body, h1, h2, h3, h4 {
    font-family: "Bookman", serif;
}
.navbar {
  background-color:darkviolet;
}

body {
    color: #333333;
}
a, a:hover {
    color: blue;
}
pre {
    font-size: 10px;
}
</style>

### A long time ago, in a galaxy far, far away...
#### Introduction
For many people, Star Wars has been one of the greatest movie series of all time. And even if you haven’t watched it, you certainly know some of the music it contains. Over the years, the Star Wars franchise expanded into various movies and television series, such as the Mandalorian, Clone Wars and Star Wars Rebels. In this portfolio, a distinction is made between the music of three major Star Wars series. These series are The Star Wars movies, composed by John Williams, the Clone Wars series, composed by Kevin Kiner, and the Mandalorian series, composed by Ludwig Goransson. The corpus exists of three times forty songs, for each of these three composers. I think it would be interesting to look into the differences between their music and to see if it is possible to distinguish between them. 

```{r picture, echo = F, fig.cap = "Fig 1: John Williams, Kevin Kiner and Ludwig Goransson", out.width = '50%', fig.align='center'}
knitr::include_graphics("merged.jpg")
```

I expect that the difference between Goransson and Williams is the most noticeable, because Star Wars is a space opera while the Mandalorian defines itself as a space Western. The differences between Kiner and Williams is more difficult to find, and thus far no one has specifically looked into it. While I was listening to the music myself I found that Kiner’s music felt more powerful and energetic.

The corpus tries to cover every movie or episode, but since a movie contains more music than a single episode it was hard to select the right songs. Therefore, I used 5 songs from every Star Wars movie, except for one. This was to maintain an equally divided song selection between the composers. From the Clone Wars series, 10 songs from every season were selected and for the Mandalorian I selected 5 songs per episode of season 1. The songs were randomly selected to avoid a certain bias. Below you can find an overview of the selection.


| John Williams              | Kevin Kiner        | Ludwig Goransson       |
|----------------------------|--------------------|------------------------|
| 5x The Rise of Sky Walker  | 10x Clone Wars I   | 5x The Mandalorian Ch1 |
| 5x The Last Jedi           | 10x Clone Wars II  | 5x The Mandalorian Ch2 |
| 5x The Force Awakens       | 10x Clone Wars III | 5x The Mandalorian Ch3 |
| 5x The Phantom Menace      | 10x Clone Wars IV  | 5x The Mandalorian Ch4 |
| 5x Revenge of the Sith     |                    | 5x The Mandalorian Ch5 |
| 5x A New Hope              |                    | 5x The Mandalorian Ch6 |
| 5x Attack of the Clones    |                    | 5x The Mandalorian Ch7 |
| 5x The Empire Strikes Back |                    | 5x The Mandalorian Ch8 |



“Dual of the fates” is a very typical Star Wars movie song, the loudness and energy of the song is a recurring theme in the Star Wars movies. For the Mandalorian, “The Mandalorian” is a very typical song because it is one of the most similar songs as compared to the Star Wars movies. 

### Data visualization

#### Visualization No. 1
```{r, echo = FALSE, message = FALSE, fig.align='center'}
# Loading in the libraries
library(tidyverse)
library(spotifyr)

# My three different data sets
williams <- get_playlist_audio_features(, "2tHo38FRHxerzbD1b8gSFE")
kiner <- get_playlist_audio_features(, "5Yx2gl5bGRaYV6IbS9SRig")
goransson <- get_playlist_audio_features(, "1pCbj5RobyHokjVvlRe9xl")

# Combining the data sets
combined <-
  bind_rows(
    williams %>% mutate(category = "John Williams"),
    kiner %>% mutate(category = "Kevin Kiner"),
    goransson %>% mutate(category = "Ludwig Goransson")
  )

# Plot acousticness vs instrumentalness, by composer

combined %>%
 ggplot(                          # Set up the plot.
    aes(
      x = instrumentalness,
      y = acousticness,
      size = track.popularity,
      colour = danceability,
      label = track.name           # Labels will be interactively visible.
    )
  ) +
  geom_point() +                   # Scatter plot.
  geom_rug(size = 0.1) +           # Add 'fringes' to show data distribution.
  facet_wrap(~category) +           # Separate charts per country.
  scale_x_continuous(              # Fine-tune the x axis.
    limits = c(0, 1),
    breaks = c(0, 0.50, 1),        # Use grid-lines for quadrants only.
    minor_breaks = NULL            # Remove 'minor' grid-lines.
  ) +
  scale_y_continuous(              # Fine-tune the y axis in the same way.
    limits = c(0, 1),
    breaks = c(0, 0.50, 1),
    minor_breaks = NULL
  ) +
  scale_colour_viridis_c(          # Use the cividis palette
    option = "A",                  # Qualitative set.
    alpha = 0.8,                   # Include some transparency
    guide = "none"
  ) +
  scale_size_continuous(           # Fine-tune the sizes of each point.
    guide = "none"                 # Remove the legend for size.
  ) +
  theme_light() +                  # Use a simpler theme.
  labs(                            # Make the titles nice.
    x = "Instrumentalness",
    y = "Acousticness"
  ) +
  theme(strip.background = element_rect(fill="#660066"))
```

In the visualization above you can see the acousticness and instrumentalness plotted against each other. The color of the dots matches the composer, as you can see in the legend. I have tried to make my visualization as readable as possible, by not exaggerating the amount of data or moving the legend. I think the colors speak for themselves. I have not yet maximized the amount of data displayed in my visualization, because for now I didn't want to. I first wanted to analyze the similarities and differences between the composers, since the composers have a lot in common. The graph above is one of the few notable differences I could find between the composers. As you can see, Williams uses a lot more acousticness and instrumentalness as compared to Kiner and Goransson. This finding could be very important for my research since it is one of the few huge differences between the composers. Williams choice for acousticness and instrumentalness stands out in the Star Wars franchise. Kiner and Goransson vary in their choice to use acoustics. Overall, the composers of the Star Wars music use a lot of instrumental music. 

### Vizualization No. 2
#### This still needs some work
One other result that surprised me in this data set was the popularity of the tracks. The Star Wars movies composed by Williams are a lot older than the Star Wars series composed by Kiner and Goransson. Therefore, it would be logical to think that more people watched the movies and thus listened to the older songs (i.e. the older songs would be more popular). Apparently, my intuition was wrong about this since most of the songs composed by Williams are not popular at all. In the visualization below you can see that Williams got the highest amount of songs with a popularity of zero. Goransson on the other hand, did a great job with the highest popularity scores. It would be very interesting to find out why Goransson's music is more popular, but therefore I need more information than the Spotify API can provide. 

```{r, echo = FALSE}
compare_mean <- combined %>%
        group_by(category) %>%
        summarise(meanpop = mean(track.popularity))
compare_mean

```


```{r, echo = FALSE, fig.align='center'}

combined %>%
  ggplot(                     # Set up the plot.
    aes(
      x = track.popularity,
      fill = category
    )
  ) +
  scale_fill_manual(values = c("#660066", "#f66d7a", "#f6a97a")) +
  geom_histogram(binwidth = 10, position = "dodge", alpha = 0.7) +
  geom_vline(xintercept = 15.55, linetype = "dashed", color = "#660066", size = 1) +
  geom_vline(xintercept = 30.65, linetype = "dashed", color = "#f6a97a", size = 1) +
  geom_vline(xintercept = 36.75, linetype = "dashed", color = "#f6a97a", size = 1) +
  theme_light() +
  theme(
    text = element_text(family = "Bookman"),
    title = element_text(color = "gray25"),
    plot.caption = element_text(color = "gray30"),
    plot.subtitle = element_text(size = 12)
  ) +
  labs(
    x = "Popularity",
    y = "Amount of songs",
    title = "Comparing track popularity"
  ) 

```


I think this visualization needs more attention regarding aesthetics. Maybe I can combine the three graphs into one, but I would love to get your opinion on this. 

In the next weeks I want to take a look at genre. Genre is not a feature in the audio features, so I have to search for a method to combine genre into my data set. As stated in the introduction, Goransson used more of a western style of music, and I think this will stand out from Williams and Kiner. Therefore I think genre is a valuable addition to this data set. 




.


### Corpus
You can find the exact corpus [here](https://open.spotify.com/playlist/0kojyfPUkAer4jsf4RSzDH?si=ryL0pYpGSxebBUsXJ38I-w)

```{r}
combined %>%
 ggplot(                          # Set up the plot.
    aes(
      x = valence,
      y = energy,
      size = track.popularity,
      colour = danceability,
      label = track.name           # Labels will be interactively visible.
    )
  ) +
  geom_point() +                   # Scatter plot.
  geom_rug(size = 0.1) +           # Add 'fringes' to show data distribution.
  facet_wrap(~category) +           # Separate charts per country.
  scale_x_continuous(              # Fine-tune the x axis.
    limits = c(0, 1),
    breaks = c(0, 0.50, 1),        # Use grid-lines for quadrants only.
    minor_breaks = NULL            # Remove 'minor' grid-lines.
  ) +
  scale_y_continuous(              # Fine-tune the y axis in the same way.
    limits = c(0, 1),
    breaks = c(0, 0.50, 1),
    minor_breaks = NULL
  ) +
  scale_colour_viridis_c(          # Use the cividis palette
    option = "A",                  # Qualitative set.
    alpha = 0.8,                   # Include some transparency
    guide = "none"
  ) +
  scale_size_continuous(           # Fine-tune the sizes of each point.
    guide = "none"                 # Remove the legend for size.
  ) +
  theme_light() +                  # Use a simpler theme.
  labs(                            # Make the titles nice.
    x = "Valence",
    y = "Energy"
  ) +
  theme(strip.background = element_rect(fill="#660066"))

```



